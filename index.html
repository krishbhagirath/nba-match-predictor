<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Krish Bhagirath — Portfolio</title>
  <meta name="description" content="Creative portfolio with blue‑neon UI, smooth motion, and interactive projects" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <!-- External libs (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/ScrollTrigger.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.33/bundled/lenis.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js" defer></script>
  <style>
    :root{
      --bg: #070b1a;           /* deep navy */
      --text: #eaf1ff;         /* near-white */
      --muted: #b8c8ff;        /* muted blue */
      --brand: #6ea8ff;        /* neon blue */
      --brand2:#4aa3ff;        /* electric blue */
      --brand3:#9ab6ff;        /* soft azure */
      --card: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.14);
      --glass: rgba(10,16,38,0.55);
      --radius: 20px;
      --shadow: 0 20px 50px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--text); background:var(--bg); overflow-x:hidden}

    /* 3D / FX layers */
    #three-bg{position:fixed; inset:0; z-index:-2}
    .grain{pointer-events:none; position:fixed; inset:-20%; z-index:-1; opacity:.08; mix-blend:overlay; background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".6"/></svg>'); animation: drift 30s linear infinite alternate}
    @keyframes drift{from{transform:translate3d(0,0,0)}to{transform:translate3d(-10%,5%,0)}}

    /* Progress bar */
    .progress{position:fixed; top:0; left:0; height:4px; width:0; background:linear-gradient(90deg, var(--brand), #67b3ff, var(--brand3)); z-index:9999; box-shadow:var(--shadow)}

    header{position:sticky; top:0; z-index:50; backdrop-filter: blur(10px) saturate(1.1); background:linear-gradient(to bottom, var(--glass), transparent); border-bottom:1px solid var(--border)}
    .nav{max-width:1200px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; justify-content:space-between; gap:12px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.4px}
    .logo{width:36px; height:36px; border-radius:12px; background:conic-gradient(from var(--spin,0deg), var(--brand), var(--brand2), var(--brand3), var(--brand)); display:grid; place-items:center; color:#0c1228; font-weight:900}
    .nav-links{display:flex; gap:18px; align-items:center; font-weight:700}
    .nav a{color:var(--text); text-decoration:none; opacity:.9}
    .nav a:hover{opacity:1}
    .theme-toggle{border:1px solid var(--border); background:var(--glass); color:var(--text); border-radius:14px; padding:8px 12px; cursor:pointer}

    main{max-width:1200px; margin:0 auto; padding:60px 20px}

    /* HERO */
    .hero{display:grid; grid-template-columns:1.1fr .9fr; gap:30px; align-items:center; min-height:78vh}
    .kicker{color:var(--muted); font-weight:700; letter-spacing:.12em; text-transform:uppercase}
    h1{font-family:"Space Grotesk", Inter, sans-serif; font-size:clamp(36px,6vw,72px); line-height:1.02; margin:10px 0}
    .gradient-text{background:linear-gradient(90deg, var(--brand), #67b3ff, var(--brand3)); -webkit-background-clip:text; background-clip:text; color:transparent}
    .sub{font-size:clamp(16px,1.8vw,20px); color:var(--muted); max-width:62ch}

    .card{background:var(--glass); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow)}
    .about{padding:24px}
    .bullets{margin:18px 0 6px 0; display:grid; gap:12px}
    .bullet{display:flex; gap:12px; align-items:flex-start}
    .dot{width:10px; height:10px; border-radius:50%; margin-top:8px; background:conic-gradient(from var(--angle), var(--brand), var(--brand2), var(--brand3)); animation: spin 3s linear infinite}
    @keyframes spin{to{--angle:360deg}}

    .actions{display:flex; gap:12px; margin-top:18px}
    .btn{position:relative; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); color:var(--text); padding:12px 16px; border-radius:14px; text-decoration:none; font-weight:800; overflow:hidden; transform:translateZ(0)}
    .btn::after{content:""; position:absolute; inset:0; background: radial-gradient(140px 70px at var(--x,50%) var(--y,50%), rgba(255,255,255,0.18), transparent 42%); opacity:0; transition:opacity .2s}
    .btn:hover::after{opacity:1}

    .portrait{position:relative; height:420px; perspective:1000px}
    .blob, .avatar{position:absolute; inset:0}
    .blob svg{width:100%; height:100%; filter: drop-shadow(0 40px 40px rgba(0,0,0,.35))}
    .avatar{inset:12% 14%; border-radius:18px; background:linear-gradient(135deg, #15204a, #0b1436); border:2px solid var(--border); display:grid; place-items:center; transform:rotateY(-6deg) rotateX(3deg)}
    .avatar img{width:100%; height:100%; object-fit:cover; border-radius:16px; opacity:.96}
    .avatar .ph{font-size:56px; color:var(--muted)}

    /* SECTION SHELL */
    section{margin-top:90px}
    .section-title{display:flex; align-items:center; gap:10px; margin-bottom:22px}
    .bar{width:10px; height:30px; border-radius:8px; background:linear-gradient(180deg, var(--brand), var(--brand2))}
    h2{margin:0; font-size:clamp(26px,3.2vw,40px); font-family:"Space Grotesk", Inter, sans-serif}

    /* SKILLS */
    .skills{display:grid; grid-template-columns:1fr 1fr; gap:20px}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:12px; background:var(--card); border:1px solid var(--border); margin:6px; font-weight:700}
    .meter{height:12px; background:var(--card); border:1px solid var(--border); border-radius:999px; overflow:hidden}
    .meter > span{display:block; height:100%; width:0; background:linear-gradient(90deg, var(--brand), #67b3ff, var(--brand3)); transition:width 1s cubic-bezier(.2,.9,.3,1)}

    /* PROJECTS */
    .filters{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:14px}
    .filter{border:1px solid var(--border); background:var(--glass); color:var(--text); border-radius:999px; padding:8px 12px; cursor:pointer; font-weight:700}
    .grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:18px}
    .project{position:relative; overflow:hidden; border-radius:18px; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); box-shadow:var(--shadow)}
    .thumb{aspect-ratio:16/10; display:grid; place-items:center; color:var(--text); font-weight:900; background:radial-gradient(120px 60px at 20% 20%, rgba(110,168,255,.35), transparent 40%), radial-gradient(120px 60px at 80% 70%, rgba(92,150,255,.25), transparent 40%), linear-gradient(135deg, rgba(255,255,255,.04), rgba(255,255,255,.02))}
    .thumb img{width:100%; height:100%; object-fit:cover; display:block}
    .p-body{padding:14px}
    .tag{display:inline-block; padding:4px 8px; border-radius:999px; background:var(--card); border:1px solid var(--border); margin-right:6px; font-size:12px}

    /* EXPERIENCE (timeline + toggles) */
    .timeline{position:relative; margin-left:8px}
    .timeline::before{content:""; position:absolute; left:10px; top:0; bottom:0; width:2px; background:linear-gradient(var(--brand), var(--brand3))}
    .exp{position:relative; padding-left:36px; margin:18px 0}
    .exp::before{content:""; position:absolute; left:2px; top:6px; width:14px; height:14px; background:var(--brand2); border-radius:50%; box-shadow:0 0 0 3px rgba(74,163,255,.25)}
    .exp h3{margin:0 0 4px 0}
    .exp .meta{color:var(--muted); font-weight:600}
    .exp-filters{display:flex; gap:10px; flex-wrap:wrap; margin:8px 0 16px}
    .exp-filters .toggle{border:1px solid var(--border); background:var(--glass); color:var(--text); border-radius:999px; padding:8px 12px; cursor:pointer; font-weight:700}
    .exp-filters .toggle[aria-pressed="true"]{background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); box-shadow: inset 0 0 0 1px var(--brand)}
    .hidden{display:none !important}

    /* CONTACT */
    form{display:grid; gap:16px; max-width:1000px}
    .group{position:relative}
    input, textarea{width:100%; padding:18px 14px 14px; border-radius:12px; border:1px solid var(--border); background:var(--glass); color:var(--text); font:inherit}
    label.float{position:absolute; left:12px; top:12px; color:var(--muted); transition:transform .2s, opacity .2s}
    input:focus + label.float, textarea:focus + label.float, input:not(:placeholder-shown) + label.float, textarea:not(:placeholder-shown) + label.float{transform:translateY(-16px) scale(.85); opacity:.9}

    footer{margin:90px auto 40px; text-align:center; color:var(--muted)}

    /* Responsive */
    @media (max-width: 1000px){ .hero{grid-template-columns:1fr} .portrait{height:360px} .grid{grid-template-columns:1fr 1fr} .skills{grid-template-columns:1fr} }
    @media (max-width: 640px){ .grid{grid-template-columns:1fr} .nav-links{display:none} }
  </style>
</head>
<body>
  <canvas id="three-bg"></canvas>
  <div class="grain"></div>
  <div class="progress" id="progress"></div>

  <header>
    <nav class="nav">
      <div class="brand"><div class="logo">★</div><span>NeoGlow</span></div>
      <div class="nav-links">
        <a href="#home">Home</a>
        <a href="#skills">Skills</a>
        <a href="#projects">Projects</a>
        <a href="#experience">Experience</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>
  </header>

  <main>
    <!-- HERO -->
    <section id="home" class="hero">
      <div class="about card">
        <div class="kicker">Hello!</div>
        <h1>Hi, I’m <span class="gradient-text">Krish Bhagirath</span> — I build playful, polished, high‑performance UI.</h1>
        <p class="sub">Second‑year Computer Engineering student at McMaster with a focus on embedded systems, machine learning, and back‑end development. I love building performant, human‑centered tools with crisp UI and motion.</p>
        <div class="bullets">
          <div class="bullet"><div class="dot"></div><div>Embedded systems • ML • Full‑stack</div></div>
          <div class="bullet"><div class="dot"></div><div>JavaScript/TypeScript, Python, C++, Java, React, Node</div></div>
          <div class="bullet"><div class="dot"></div><div>Enjoy solving real problems & shipping polished UX</div></div>
        </div>
        <div class="actions">
          <a class="btn" href="#projects">See Projects</a>
          <a class="btn" href="#contact">Contact Me</a>
        </div>
      </div>
      <div class="portrait">
        <div class="blob">
          <svg viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--brand)"/>
                <stop offset="100%" stop-color="var(--brand2)"/>
              </linearGradient>
            </defs>
            <path fill="url(#g)" d="M427.5,337.1Q382.2,424.3,289.6,447.3Q197,470.2,121.7,402Q46.3,333.7,79.3,238.5Q112.4,143.3,200.8,112.7Q289.2,82,383.5,118.6Q477.8,155.3,490.7,252.7Q503.6,350.1,427.5,337.1Z"/>
          </svg>
        </div>
        <div class="avatar" data-tilt data-tilt-glare data-tilt-max="12">
          <img alt="Your Photo" src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=1200&auto=format&fit=crop" />
        </div>
      </div>
    </section>

    <!-- SKILLS (migrated) -->
    <section id="skills">
      <div class="section-title"><div class="bar"></div><h2>Skills</h2></div>
      <div class="skills">
        <div class="card" style="padding:16px">
          <div id="skill-chips">
            <span class="chip">JavaScript</span>
            <span class="chip">TypeScript</span>
            <span class="chip">Python</span>
            <span class="chip">C++</span>
            <span class="chip">Java</span>
            <span class="chip">HTML</span>
            <span class="chip">CSS</span>
            <span class="chip">React</span>
            <span class="chip">Node.js</span>
            <span class="chip">Laravel</span>
            <span class="chip">SQL</span>
            <span class="chip">Git/GitHub</span>
            <span class="chip">Tailwind CSS</span>
            <span class="chip">TensorFlow</span>
            <span class="chip">OpenCV</span>
            <span class="chip">Arduino</span>
            <span class="chip">Raspberry Pi</span>
            <span class="chip">Postman</span>
            <span class="chip">Autodesk Inventor</span>
            <span class="chip">Matlab</span>
            <span class="chip">VS Code</span>
            <span class="chip">ANSYS Granta</span>
          </div>
          <div style="margin-top:12px">
            <div>Frontend</div>
            <div class="meter" data-val="88"><span></span></div>
            <div style="margin-top:10px">Backend</div>
            <div class="meter" data-val="75"><span></span></div>
            <div style="margin-top:10px">Embedded/ML</div>
            <div class="meter" data-val="70"><span></span></div>
          </div>
        </div>
        <div class="card" style="padding:16px">
          <h3 style="margin-top:0">Highlights</h3>
          <ul>
            <li>Design systems & accessible UI</li>
            <li>AI/ML prototyping (TensorFlow, MediaPipe)</li>
            <li>Embedded integration (Pi, Arduino, sensors)</li>
            <li>Clean DX, testing, and docs</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PROJECTS (migrated content, blue placeholders) -->
    <section id="projects">
      <div class="section-title"><div class="bar"></div><h2>Projects</h2></div>
      <div class="filters">
        <button class="filter" data-filter="all">All</button>
        <button class="filter" data-filter="ml">ML</button>
        <button class="filter" data-filter="embedded">Embedded</button>
        <button class="filter" data-filter="web">Web</button>
        <button class="filter" data-filter="cad">CAD</button>
      </div>
      <div class="grid" id="projectGrid">
        <article class="project" data-tags="ml embedded" data-tilt>
          <div class="thumb"><img alt="CradleWatch" src="https://picsum.photos/seed/cradlewatch/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">CradleWatch</h3>
              <div><span class="tag">ML</span><span class="tag">Embedded</span></div>
            </div>
            <p>AI infant monitor detecting distress using Face Mesh + ViT on Raspberry Pi; servo‑controlled pan/tilt and SMS alerts.</p>
          </div>
        </article>
        <article class="project" data-tags="ml web" data-tilt>
          <div class="thumb"><img alt="PawGress" src="https://picsum.photos/seed/pawgress/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">PawGress</h3>
              <div><span class="tag">ML</span><span class="tag">Web</span></div>
            </div>
            <p>React Native habit tracker with Cohere‑powered coaching and a leveling dog avatar.</p>
          </div>
        </article>
        <article class="project" data-tags="web" data-tilt>
          <div class="thumb"><img alt="Personal Portfolio" src="https://picsum.photos/seed/portfolio/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">Personal Portfolio</h3>
              <div><span class="tag">Web</span></div>
            </div>
            <p>Custom, responsive site with modals, slideshows, and particles; email API integration.</p>
          </div>
        </article>
        <article class="project" data-tags="embedded" data-tilt>
          <div class="thumb"><img alt="IntelliPark" src="https://picsum.photos/seed/park/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">IntelliPark</h3>
              <div><span class="tag">Embedded</span></div>
            </div>
            <p>Arduino‑based smart parking prototype with ultrasonic sensing and gate control.</p>
          </div>
        </article>
        <article class="project" data-tags="cad" data-tilt>
          <div class="thumb"><img alt="Autonomous Airport System" src="https://picsum.photos/seed/airport/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">Autonomous Airport System</h3>
              <div><span class="tag">CAD</span></div>
            </div>
            <p>Python + Q‑arm robotics + custom mechanisms to sort luggage; 9‑week mechatronics project.</p>
          </div>
        </article>
        <article class="project" data-tags="cad" data-tilt>
          <div class="thumb"><img alt="ClipCall" src="https://picsum.photos/seed/clipcall/800/500"/></div>
          <div class="p-body">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <h3 style="margin:0">ClipCall</h3>
              <div><span class="tag">CAD</span></div>
            </div>
            <p>Cane‑mounted phone holder for a client with Usher Syndrome; multiple iterative CAD versions.</p>
          </div>
        </article>
      </div>
    </section>

    <!-- EXPERIENCE (timeline with toggles) -->
    <section id="experience">
      <div class="section-title"><div class="bar"></div><h2>Experience</h2></div>
      <div class="exp-filters" role="toolbar" aria-label="Filter timeline">
        <button class="toggle" data-type="work" aria-pressed="true">Work</button>
        <button class="toggle" data-type="volunteer" aria-pressed="true">Volunteer</button>
        <button class="toggle" data-type="education" aria-pressed="true">Education</button>
      </div>
      <div class="timeline" id="expTimeline">
        <!-- Auto‑migrated from old HTML (best‑effort). Replace or expand any entries below. -->
        <div class="exp" data-type="work">
          <h3>Novologic</h3>
          <div class='meta'>Engineering Intern | May 2025 - August 2025 • 2025 - Au</div>
          <ul><li>Engineered full-stack features with Laravel, PHP, ... drive product refinement and ensure release-readiness</li></ul>
        </div>
        <div class="exp" data-type="work">
          <h3>McMaster MedT</h3>
          <div class='meta'>Software Developer | Sept 2024 - Present • 2024 - Pr</div>
          <ul><li>Software team member at McMaster’s Medical Engineering Design Team (MedT), creating cutting-edge biomed deliverables...</li></ul>
        </div>
        <div class="exp" data-type="education">
          <h3>Received over $20,000 in scholarships</h3>
          <div class='meta'>Awards & Scholarships</div>
        </div>
        <div class="exp" data-type="education">
          <h3>Leadership in student organizations</h3>
          <ul><li>FIRST Robotics (Team 772) Programming Lead</li><li>Student Parliament Executive</li><li>Peer Helpers Tutor</li></ul>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="section-title"><div class="bar"></div><h2>Contact Me</h2></div>
      <form id="contactForm" class="card" style="padding:16px">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
          <div class="group">
            <input required name="name" placeholder=" "/>
            <label class="float">Name</label>
          </div>
          <div class="group">
            <input required type="email" name="email" placeholder=" "/>
            <label class="float">Email</label>
          </div>
        </div>
        <div class="group">
          <textarea required name="message" placeholder=" "></textarea>
          <label class="float">Message</label>
        </div>
        <div style="display:flex; gap:10px; align-items:center">
          <button class="btn" type="submit">Send Message</button>
          <small id="formNote" style="color:var(--muted)">Demo form (no backend).</small>
        </div>
      </form>
    </section>

    <footer>
      <div>© <span id="year"></span> Krish Bhagirath — NeoGlow portfolio.</div>
    </footer>
  </main>

  <script>
    // ===== Smooth scrolling =====
    let lenis; window.addEventListener('load', () => {
      lenis = new Lenis({smoothWheel:true, syncTouch:true});
      function raf(t){ lenis.raf(t); requestAnimationFrame(raf); } requestAnimationFrame(raf);
    });

    // ===== Three.js animated background (blue gradient + particles) =====
    window.addEventListener('load', () => {
      const canvas = document.getElementById('three-bg');
      const renderer = new THREE.WebGLRenderer({canvas, antialias:true});
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(45, innerWidth/innerHeight, 0.1, 100);
      camera.position.z = 5;

      const geo = new THREE.PlaneGeometry(10, 6, 1, 1);
      const mat = new THREE.ShaderMaterial({
        uniforms:{ uTime:{value:0}, uA:{value:new THREE.Color('#0b1e43')}, uB:{value:new THREE.Color('#133a7c')} },
        vertexShader:`varying vec2 vUv; void main(){ vUv = uv; gl_Position = projectionMatrix*modelViewMatrix*vec4(position,1.0); }`,
        fragmentShader:`
          uniform float uTime; uniform vec3 uA; uniform vec3 uB; varying vec2 vUv;
          float hash(vec2 p){ return fract(sin(dot(p, vec2(12.9898,78.233))) * 43758.5453); }
          void main(){
            vec2 uv = vUv + vec2(0.0, sin(uTime*.2)*0.02);
            float n = hash(uv*4.0 + uTime*0.05);
            vec3 c = mix(uA, uB, smoothstep(0.2, 0.8, uv.y + n*0.15));
            gl_FragColor = vec4(c, 1.0);
          }`
      });
      const mesh = new THREE.Mesh(geo, mat); scene.add(mesh);

      const pGeo = new THREE.BufferGeometry();
      const COUNT = 300;
      const positions = new Float32Array(COUNT*3);
      for(let i=0;i<COUNT;i++){ positions[i*3+0] = (Math.random()-0.5)*8; positions[i*3+1] = (Math.random()-0.5)*5; positions[i*3+2] = -0.5 - Math.random()*0.5; }
      pGeo.setAttribute('position', new THREE.BufferAttribute(positions,3));
      const pMat = new THREE.PointsMaterial({color:0xffffff, size:0.02, transparent:true, opacity:0.6});
      const points = new THREE.Points(pGeo, pMat); scene.add(points);

      function resize(){
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        renderer.setPixelRatio(dpr); renderer.setSize(innerWidth, innerHeight);
        camera.aspect = innerWidth/innerHeight; camera.updateProjectionMatrix();
      } window.addEventListener('resize', resize); resize();

      const clock = new THREE.Clock();
      function animate(){
        const t = clock.getElapsedTime();
        mat.uniforms.uTime.value = t;
        points.rotation.z = t*0.02;
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      } animate();
    });

    // ===== Header logo spin on scroll =====
    const logo = document.querySelector('.logo');
    window.addEventListener('scroll', () => {
      const s = document.documentElement.scrollTop || document.body.scrollTop;
      logo.style.setProperty('--spin', `${s/3}deg`);
    }, {passive:true});

    // ===== Progress bar =====
    const progress = document.getElementById('progress');
    const onScroll = () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
      progress.style.width = (scrolled * 100) + '%';
    }; document.addEventListener('scroll', onScroll, {passive:true}); onScroll();

    // ===== Magnetic buttons =====
    document.querySelectorAll('.btn').forEach(btn => {
      btn.addEventListener('pointermove', e => {
        const r = btn.getBoundingClientRect();
        btn.style.setProperty('--x', (e.clientX - r.left) + 'px');
        btn.style.setProperty('--y', (e.clientY - r.top) + 'px');
      });
    });

    // ===== Skill meters on view =====
    const meters = document.querySelectorAll('.meter');
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => { if(e.isIntersecting){ e.target.querySelector('span').style.width = e.target.dataset.val + '%'; }});
    }, {threshold:.4}); meters.forEach(m => io.observe(m));

    // ===== Project filters =====
    const grid = document.getElementById('projectGrid');
    document.querySelectorAll('.filter').forEach(f => {
      f.addEventListener('click', () => {
        const tag = f.dataset.filter;
        grid.querySelectorAll('.project').forEach(p => { p.style.display = (tag==='all'||p.dataset.tags.includes(tag)) ? '' : 'none'; });
      });
    });

    // ===== Tilt cards =====
    window.addEventListener('load', () => {
      if(window.VanillaTilt){ VanillaTilt.init(document.querySelectorAll('[data-tilt]'), {max:8, speed:400, glare:true, 'max-glare':0.25}); }
    });

    // ===== Timeline toggles (Work / Volunteer / Education) =====
    const expTimeline = document.getElementById('expTimeline');
    const expToggles = document.querySelectorAll('.exp-filters .toggle');
    function applyExpFilter(){
      if(!expTimeline) return;
      const active = new Set([...expToggles].filter(b=>b.getAttribute('aria-pressed')==='true').map(b=>b.dataset.type));
      const items = expTimeline.querySelectorAll('.exp');
      if(active.size===0){ // if none selected, show all to avoid empty state
        items.forEach(el=>el.classList.remove('hidden'));
        return;
      }
      items.forEach(el=>{
        const t = el.dataset.type || 'work';
        el.classList.toggle('hidden', !active.has(t));
      });
    }
    expToggles.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const pressed = btn.getAttribute('aria-pressed')==='true';
        btn.setAttribute('aria-pressed', String(!pressed));
        applyExpFilter();
      });
    });
    applyExpFilter();

    // ===== Contact (demo) =====
    const form = document.getElementById('contactForm');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      if(!data.name || !data.email || !data.message) return toast('Please fill out all fields.');
      toast('Thanks! Your message was (pretend) sent.'); form.reset();
    });
    function toast(msg){
      let t = document.createElement('div');
      t.textContent = msg; t.style.cssText = `position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--glass);backdrop-filter:blur(8px);border:1px solid var(--border);color:var(--text);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);z-index:9999;opacity:0`;
      document.body.appendChild(t);
      requestAnimationFrame(()=>{t.style.transition='opacity .25s, transform .25s'; t.style.opacity='1'; t.style.transform='translateX(-50%) translateY(-6px)';});
      setTimeout(()=>{t.style.opacity='0'; t.style.transform='translateX(-50%) translateY(0)'; setTimeout(()=>t.remove(),220);}, 2000);
    }

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
